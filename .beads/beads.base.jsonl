{"id":"bts-0xt","content_hash":"42edec086b3c4c30473e8fb3dc3a81d4e4944c47a2dc5acb84c4bcb8153ebf4b","title":"Implement execute_typescript tool","description":"Core tool that writes TypeScript code to temp workspace and executes with Bun","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T11:27:08.937941-05:00","updated_at":"2025-11-26T11:52:34.192137-05:00","closed_at":"2025-11-26T11:52:34.192137-05:00","source_repo":".","dependencies":[{"issue_id":"bts-0xt","depends_on_id":"bts-cqg","type":"blocks","created_at":"2025-11-26T11:32:26.7267-05:00","created_by":"zell"},{"issue_id":"bts-0xt","depends_on_id":"bts-hie","type":"blocks","created_at":"2025-11-26T11:34:28.616836-05:00","created_by":"zell"}]}
{"id":"bts-5vg","content_hash":"fe15e0a50bf1594895c69ecd3c1b4b495e00864c01e993d6b30e92fa124f9aaa","title":"TypeScript Execution Tool for Claude Code","description":"Build in-process MCP server plugin that provides execute_typescript tool with temp workspace and auto-cleanup for workflow automation","notes":"Clearing old tasks to start fresh","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T12:08:44.939836-05:00","updated_at":"2025-11-26T14:53:56.630847-05:00","closed_at":"2025-11-26T14:53:56.630849-05:00","source_repo":"."}
{"id":"bts-6jk","content_hash":"95681d1fb05ad36829bd80fc83f29b64d2ae08e57f21562dad1b69c7df88aefb","title":"Add timeout support","description":"Implement configurable timeout (default 30s) to kill runaway scripts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T11:27:20.256334-05:00","updated_at":"2025-11-26T11:53:37.294479-05:00","closed_at":"2025-11-26T11:53:37.294479-05:00","source_repo":".","dependencies":[{"issue_id":"bts-6jk","depends_on_id":"bts-0xt","type":"blocks","created_at":"2025-11-26T11:34:39.829375-05:00","created_by":"zell"}]}
{"id":"bts-6nb","content_hash":"50c5594a7ddd5d81818036befe32001cef27878cac525b7618be05b8401a228b","title":"Research existing MCP servers for TypeScript execution","description":"Search for existing MCP servers that execute TypeScript/JavaScript locally, preferably with Bun support. Could shortcut implementation significantly.","notes":"## Research Findings\n\nFound two relevant MCP servers:\n\n### 1. mcp-bun (BEST MATCH)\n- **GitHub**: github.com/carlosedp/mcp-bun\n- **Features**: \n  - `run-bun-eval`: Execute TypeScript/JavaScript code directly\n  - `run-bun-script-file`: Execute TS/JS files\n  - Package management, testing, build tools\n- **Gap**: Does NOT use temporary workspaces - runs in current directory\n- **Installation**: `bunx -y mcp-bun@latest`\n\n### 2. mcp-local-command-server\n- **GitHub**: github.com/kentaro/mcp-local-command-server  \n- General command execution via `execute_command` tool\n- Less specific to TypeScript/Bun\n\n## Options:\n1. Use mcp-bun as-is (accept no temp workspace)\n2. Fork mcp-bun and add temp workspace feature\n3. Build our own with temp workspace (original plan)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T11:37:37.364957-05:00","updated_at":"2025-11-26T11:51:25.293483-05:00","closed_at":"2025-11-26T11:51:25.293483-05:00","source_repo":"."}
{"id":"bts-7bc","content_hash":"2d8595edd6a807a0be6f84fa1ce73b551df7d98fc5a8ce7bb7a64bb139dfc9ab","title":"Add output capture and result formatting","description":"Capture stdout/stderr, exit codes, and format results for MCP response","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T11:27:14.603927-05:00","updated_at":"2025-11-26T11:53:25.532009-05:00","closed_at":"2025-11-26T11:53:25.532009-05:00","source_repo":".","dependencies":[{"issue_id":"bts-7bc","depends_on_id":"bts-0xt","type":"blocks","created_at":"2025-11-26T11:34:34.229479-05:00","created_by":"zell"}]}
{"id":"bts-80k","content_hash":"c7c191fbcde93c53f233c2628139f8a78a19eeb6c4d27798b1f08b16280089af","title":"Test with beads command execution","description":"Verify TypeScript can successfully call bd commands and interact with issues","notes":"Clearing old tasks to start fresh","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-26T11:27:37.231954-05:00","updated_at":"2025-11-26T14:55:32.69866-05:00","closed_at":"2025-11-26T14:55:32.698662-05:00","source_repo":".","dependencies":[{"issue_id":"bts-80k","depends_on_id":"bts-jz9","type":"blocks","created_at":"2025-11-26T11:35:02.28537-05:00","created_by":"zell"}]}
{"id":"bts-91f","content_hash":"30dc44671111304de27314138ebb6c5bf7b61600461a5ab6c883245eba70c468","title":"Research Claude Code client tool extension capabilities","description":"Investigate if Claude Code supports custom client tools/plugins vs MCP servers","notes":"Completed: Claude Code supports MCP servers for custom tools, plugins for skills/commands. MCP server is the right approach for execute_typescript tool.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T11:59:26.407772-05:00","updated_at":"2025-11-26T13:23:34.812901-05:00","closed_at":"2025-11-26T13:23:34.812903-05:00","source_repo":"."}
{"id":"bts-cqg","content_hash":"8cf30f173aa70563729be0b5614a0131e652f4c95e42e9bf95b2ef3834dfc1c9","title":"Implement MCP server infrastructure","description":"Set up basic MCP server with stdio communication, initialize/tools/list support","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T11:25:53.420668-05:00","updated_at":"2025-11-26T11:52:15.774221-05:00","closed_at":"2025-11-26T11:52:15.774221-05:00","source_repo":".","dependencies":[{"issue_id":"bts-cqg","depends_on_id":"bts-6nb","type":"related","created_at":"2025-11-26T11:37:49.645983-05:00","created_by":"zell"}]}
{"id":"bts-hie","content_hash":"b2062ea1cd7924dbd928e5ffbd6c3d198073d6be1a4240ab91619c19939bd04c","title":"Implement temp workspace creation and cleanup","description":"Create unique temp directories for each execution and ensure cleanup in all cases (success/failure/timeout)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T11:27:03.296707-05:00","updated_at":"2025-11-26T11:52:23.452773-05:00","closed_at":"2025-11-26T11:52:23.452773-05:00","source_repo":".","dependencies":[{"issue_id":"bts-hie","depends_on_id":"bts-6nb","type":"related","created_at":"2025-11-26T11:37:55.228208-05:00","created_by":"zell"}]}
{"id":"bts-jz9","content_hash":"82055c2ac06f86040f545731134caa28000f3c09eff604cafe931150234213b8","title":"Configure Claude Code MCP integration","description":"Add MCP server to Claude Code config so it's available as a tool","notes":"Clearing old tasks to start fresh","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T11:27:25.925762-05:00","updated_at":"2025-11-26T14:55:15.957839-05:00","closed_at":"2025-11-26T14:55:15.957842-05:00","source_repo":".","dependencies":[{"issue_id":"bts-jz9","depends_on_id":"bts-7bc","type":"blocks","created_at":"2025-11-26T11:34:45.42898-05:00","created_by":"zell"},{"issue_id":"bts-jz9","depends_on_id":"bts-6jk","type":"blocks","created_at":"2025-11-26T11:34:51.043225-05:00","created_by":"zell"},{"issue_id":"bts-jz9","depends_on_id":"bts-qv1","type":"blocks","created_at":"2025-11-26T11:51:58.896955-05:00","created_by":"zell"}]}
{"id":"bts-kek","content_hash":"bc8d3930584219c8f9fc7ce3328f2564b1fa2f76fa681aa84c7fc16df5dad304","title":"Test with jj command execution","description":"Verify TypeScript can successfully call jj commands and access repo state","notes":"Clearing old tasks to start fresh","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-26T11:27:31.581308-05:00","updated_at":"2025-11-26T14:55:27.121256-05:00","closed_at":"2025-11-26T14:55:27.121258-05:00","source_repo":".","dependencies":[{"issue_id":"bts-kek","depends_on_id":"bts-jz9","type":"blocks","created_at":"2025-11-26T11:34:56.639657-05:00","created_by":"zell"}]}
{"id":"bts-m2w","content_hash":"0587579040ba5313f6f6a937ce78d16c8e53e0893db2853d6011ec7476c57693","title":"In-process TypeScript execution with temp workspace [root]","description":"Enable Claude agents to execute TypeScript workflows that interact with jj and beads, without leaving filesystem cruft","notes":"Clearing old tasks to start fresh","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T12:08:50.584845-05:00","updated_at":"2025-11-26T14:54:02.223377-05:00","closed_at":"2025-11-26T14:54:02.223379-05:00","source_repo":"."}
{"id":"bts-qv1","content_hash":"d2b2888655b927a35a92311dd25da927c8fe44e88011d20939311614c789aa87","title":"Add temp workspace and auto-cleanup to execute tools","description":"Modify run-bun-eval and run-bun-script-file to create temp directories, execute there, and cleanup afterward","notes":"Clearing old tasks to start fresh","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T11:51:36.521651-05:00","updated_at":"2025-11-26T14:54:39.781528-05:00","closed_at":"2025-11-26T14:54:39.781531-05:00","source_repo":".","dependencies":[{"issue_id":"bts-qv1","depends_on_id":"bts-te7","type":"blocks","created_at":"2025-11-26T11:51:53.313094-05:00","created_by":"zell"}]}
{"id":"bts-te7","content_hash":"8adc08b7b42fc0899941cbbd4e57c178f72d6300b4023c209b2fe9573082d60b","title":"Fork mcp-bun repository","description":"Fork or clone mcp-bun to create our own version with temp workspace support","notes":"Clearing old tasks to start fresh","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T11:51:30.918197-05:00","updated_at":"2025-11-26T14:53:51.03411-05:00","closed_at":"2025-11-26T14:53:51.034112-05:00","source_repo":"."}
{"id":"bun-sandbox-102","content_hash":"bba774deb21882b03f55c4d20987696d59efe8e3a7be2af5f57d5da3880bdc0e","title":"Create in-process TypeScript execution engine","description":"","notes":"Completed - using Bun.spawn with temp files, captures stdout/stderr/return value","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T16:05:37.545869-05:00","updated_at":"2025-11-26T16:15:23.153367-05:00","closed_at":"2025-11-26T16:15:23.153369-05:00","source_repo":".","dependencies":[{"issue_id":"bun-sandbox-102","depends_on_id":"bun-sandbox-v1o","type":"parent-child","created_at":"2025-11-26T16:05:37.723845-05:00","created_by":"daemon"}]}
{"id":"bun-sandbox-2ct","content_hash":"b99c7a430cbac76f9c21319636896c953cb620e44dc28f1c6bb603869eac389a","title":"Register tool with MCP server","description":"Add RunSkillCode to MCP server's tool list in src/mcp-bun.ts, define schema with Zod, wire up handler","notes":"Completed - registered RunSkillCode with MCP server, added Zod schema, wired up handler, verified with tests, fixed ADR violations","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T16:05:37.618359-05:00","updated_at":"2025-11-26T17:24:55.037085-05:00","closed_at":"2025-11-26T17:24:55.037095-05:00","source_repo":".","dependencies":[{"issue_id":"bun-sandbox-2ct","depends_on_id":"bun-sandbox-v1o","type":"parent-child","created_at":"2025-11-26T16:05:37.768304-05:00","created_by":"daemon"}]}
{"id":"bun-sandbox-5l1","content_hash":"ae0b4823a1739b1ba3f0ee59064168cacda13a1a6686efcbd7317dec78848122","title":"Test task from RunSkillCode","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-26T17:26:02.642013-05:00","updated_at":"2025-11-26T17:26:02.642013-05:00","source_repo":"."}
{"id":"bun-sandbox-9vr","content_hash":"ae0b4823a1739b1ba3f0ee59064168cacda13a1a6686efcbd7317dec78848122","title":"Test task from RunSkillCode","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-26T17:26:24.172472-05:00","updated_at":"2025-11-26T17:26:24.172472-05:00","source_repo":"."}
{"id":"bun-sandbox-a2q","content_hash":"ae939e2bdbb4c7079a5f6a644c4b4a847b9fd66c3491a8a7c527f01fd6a60a80","title":"Security review of inherited mcp-bun code","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-26T16:25:51.736664-05:00","updated_at":"2025-11-26T16:25:51.736664-05:00","source_repo":".","dependencies":[{"issue_id":"bun-sandbox-a2q","depends_on_id":"bun-sandbox-v1o","type":"parent-child","created_at":"2025-11-26T16:25:51.761509-05:00","created_by":"daemon"}]}
{"id":"bun-sandbox-a5m","content_hash":"77caf4bcb9461af22c32164805126ebcfa6ae7928183f255cc949463d3faf963","title":"Add error handling with stack traces","description":"","notes":"Completed - syntax and runtime errors captured in stderr with stack traces","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T16:05:37.582342-05:00","updated_at":"2025-11-26T16:15:23.17553-05:00","closed_at":"2025-11-26T16:15:23.175533-05:00","source_repo":".","dependencies":[{"issue_id":"bun-sandbox-a5m","depends_on_id":"bun-sandbox-v1o","type":"parent-child","created_at":"2025-11-26T16:05:37.745618-05:00","created_by":"daemon"}]}
{"id":"bun-sandbox-aan","content_hash":"60b3ad3e1693528694cf0a42467e3d1f0db4bc99bcb90f47155b47386ec8ee80","title":"Implement module resolution for ~/.claude/skills","description":"","notes":"Completed - imports from ~/.claude/skills work with ~ expansion","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T16:05:37.506335-05:00","updated_at":"2025-11-26T16:15:23.12754-05:00","closed_at":"2025-11-26T16:15:23.127544-05:00","source_repo":".","dependencies":[{"issue_id":"bun-sandbox-aan","depends_on_id":"bun-sandbox-v1o","type":"parent-child","created_at":"2025-11-26T16:05:37.701176-05:00","created_by":"daemon"}]}
{"id":"bun-sandbox-d7a","content_hash":"603ab16e0dfdf3d891f59336d994bec8d00e4b85f3e3f1e7b363f9f1bee69dc5","title":"Design tool interface and parameters schema","description":"","notes":"Completed - implemented RunSkillCodeParams/Result interfaces with dependency injection, 6 passing tests","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T16:05:37.468121-05:00","updated_at":"2025-11-26T16:40:26.748159-05:00","closed_at":"2025-11-26T16:40:26.748168-05:00","source_repo":".","dependencies":[{"issue_id":"bun-sandbox-d7a","depends_on_id":"bun-sandbox-v1o","type":"parent-child","created_at":"2025-11-26T16:05:37.678669-05:00","created_by":"daemon"}]}
{"id":"bun-sandbox-g7a","content_hash":"c65b34b845f3ed44ea52b4e1dfb87a2803e88682c470da93c56e1238dd0ce418","title":"Test task","description":"","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-11-26T16:05:31.417589-05:00","updated_at":"2025-11-26T16:08:28.740159-05:00","source_repo":"."}
{"id":"bun-sandbox-h1h","content_hash":"ae0b4823a1739b1ba3f0ee59064168cacda13a1a6686efcbd7317dec78848122","title":"Test task from RunSkillCode","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-26T17:33:54.043992-05:00","updated_at":"2025-11-26T17:33:54.043992-05:00","source_repo":"."}
{"id":"bun-sandbox-j6x","content_hash":"3e8cbb0c858e0250a34df80cb58ae0290d569d1933e504df7dcffd3dda5f2777","title":"RunSkillCode Tool","description":"","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-26T16:05:37.361273-05:00","updated_at":"2025-11-26T16:05:37.361273-05:00","source_repo":"."}
{"id":"bun-sandbox-kyg","content_hash":"c1fdce345add6d89c69759b266c4b64505a55f769c33794ddbd7a02011276a0b","title":"Copy ADRs from discovery-tree-workflow to project","description":"","notes":"Completed - copied 4 ADRs, accepted ADR-004, fixed all violations (nested describes, arrow functions, API separation), verified full compliance","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-26T16:25:51.66712-05:00","updated_at":"2025-11-26T16:57:04.379542-05:00","closed_at":"2025-11-26T16:57:04.379551-05:00","source_repo":".","dependencies":[{"issue_id":"bun-sandbox-kyg","depends_on_id":"bun-sandbox-v1o","type":"parent-child","created_at":"2025-11-26T16:25:51.693252-05:00","created_by":"daemon"}]}
{"id":"bun-sandbox-l8a","content_hash":"8caa468058958689354deb2d87c8970e94825b054f8d0f6b27a7fc65b53a45f8","title":"Test with discovery-tree-workflow APIs","description":"","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-26T16:05:37.656366-05:00","updated_at":"2025-11-26T17:24:55.54212-05:00","source_repo":".","dependencies":[{"issue_id":"bun-sandbox-l8a","depends_on_id":"bun-sandbox-v1o","type":"parent-child","created_at":"2025-11-26T16:05:37.791684-05:00","created_by":"daemon"}]}
{"id":"bun-sandbox-v1o","content_hash":"e1901349adba126e9483aff1e4a1db563c4cc9a502bc8f6161fba5ac5b208a4c","title":"In-process TypeScript execution for skills APIs [root]","description":"MCP tool that executes TypeScript in-process with access to ~/.claude/skills APIs. Tool works like Bash/Write - Claude Code calls it via MCP protocol.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-26T16:05:37.404551-05:00","updated_at":"2025-11-26T16:25:51.551584-05:00","source_repo":".","dependencies":[{"issue_id":"bun-sandbox-v1o","depends_on_id":"bun-sandbox-j6x","type":"parent-child","created_at":"2025-11-26T16:05:37.427384-05:00","created_by":"daemon"}]}
